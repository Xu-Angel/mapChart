const paths = {
  1: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 195.757,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 0.5,
      y: 195.757,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '0.5 195.757',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 196.656,
      y: 195.757,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '196.656',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 208.656,
      y: 183.757,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '6.626999999999981 0 12 -5.373000000000019 12 -12',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 208.656,
      y: 91.7683,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '91.7683',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 213.759,
      y: 81.9478,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 -3.909499999999994 1.9039999999999964 -7.573799999999991 5.10299999999998 -9.820499999999996',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 266.416,
      y: 44.971,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '266.416 44.971',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 273.312,
      y: 42.7915,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.019999999999982 -1.4183999999999983 4.427999999999997 -2.1794999999999973 6.896000000000015 -2.1794999999999973',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: 8,
      x: 371.776,
      y: 42.7915,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '371.776',
      },
    },
    {
      id: 8,
      prevId: 7,
      nextId: 9,
      x: 379.338,
      y: 40.1093,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.7539999999999623 0 5.423000000000002 -0.9470000000000027 7.562000000000012 -2.6822000000000017',
      },
    },
    {
      id: 9,
      prevId: 8,
      nextId: 10,
      x: 421.76,
      y: 5.6822,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '421.76 5.6822',
      },
    },
    {
      id: 10,
      prevId: 9,
      nextId: 11,
      x: 429.322,
      y: 3,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.1380000000000337 -1.73517 4.807999999999993 -2.6822 7.562000000000012 -2.6822',
      },
    },
    {
      id: 11,
      prevId: 10,
      nextId: 12,
      x: 1027.24,
      y: 3,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '1027.24',
      },
    },
    {
      id: 12,
      prevId: 11,
      nextId: 13,
      x: 1034.3,
      y: 5.29757,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.5399999999999636 0 5.009999999999991 0.8043800000000001 7.059999999999945 2.2975700000000003',
      },
    },
    {
      id: 13,
      prevId: 12,
      nextId: 14,
      x: 1237.59,
      y: 153.25,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '1237.59 153.25',
      },
    },
    {
      id: 14,
      prevId: 13,
      nextId: 15,
      x: 1244.65,
      y: 155.547,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.050000000000182 1.492999999999995 4.519999999999982 2.296999999999997 7.060000000000173 2.296999999999997',
      },
    },
    {
      id: 15,
      prevId: 14,
      nextId: 16,
      x: 1469,
      y: 155.547,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '1469',
      },
    },
    {
      id: 16,
      prevId: 15,
      nextId: 17,
      x: 1481,
      y: 167.547,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '6.630000000000109 0 12 5.3729999999999905 12 12',
      },
    },
    {
      id: 17,
      prevId: 16,
      nextId: 18,
      x: 1481,
      y: 296,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '296',
      },
    },
    {
      id: 18,
      prevId: 17,
      nextId: null,
      x: 1481,
      y: 296,
      type: 'trueNode',
    },
  ],
  2: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 2,
      y: 3,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '2 3',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 172.04,
      y: 122.728,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '172.04 122.728',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 178.948,
      y: 124.916,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.02200000000002 1.4240000000000066 4.435000000000002 2.1880000000000024 6.9080000000000155 2.1880000000000024',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 791.275,
      y: 124.916,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '791.275',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 798.183,
      y: 127.105,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.47300000000007 0 4.885999999999967 0.7650000000000006 6.9080000000000155 2.189000000000007',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 846.214,
      y: 160.924,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '846.214 160.924',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 853.123,
      y: 163.112,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.0219999999999345 1.4240000000000066 4.434999999999945 2.187999999999988 6.908999999999992 2.187999999999988',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: 8,
      x: 956.015,
      y: 163.112,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '956.015',
      },
    },
    {
      id: 8,
      prevId: 7,
      nextId: 9,
      x: 962.924,
      y: 165.3,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.47300000000007 0 4.885999999999967 0.7650000000000148 6.908999999999992 2.1880000000000166',
      },
    },
    {
      id: 9,
      prevId: 8,
      nextId: 10,
      x: 1043.18,
      y: 221.812,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '1043.18 221.812',
      },
    },
    {
      id: 10,
      prevId: 9,
      nextId: 11,
      x: 1050.09,
      y: 224,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.019999999999982 1.4239999999999782 4.439999999999827 2.187999999999988 6.9099999999998545 2.187999999999988',
      },
    },
    {
      id: 11,
      prevId: 10,
      nextId: null,
      x: 1176,
      y: 224,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '1176',
      },
    },
  ],
  3: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 3,
      y: 0,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '3 0',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 3,
      y: 216.701,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '216.701',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 6.50838,
      y: 225.18,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 3.179000000000002 1.2618200000000002 6.229000000000013 3.50838 8.479000000000013',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 77.2635,
      y: 296.041,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '77.2635 296.041',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 80.7719,
      y: 304.52,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.246600000000001 2.25 3.508400000000009 5.298999999999978 3.508400000000009 8.478999999999985',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 80.7719,
      y: 876.705,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '876.705',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 84.2803,
      y: 885.183,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 3.1789999999999736 1.2617999999999938 6.228999999999928 3.5083999999999946 8.477999999999952',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: null,
      x: 149,
      y: 950,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '149 950',
      },
    },
  ],
  4: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 3,
      y: 0,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '3 0',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 3,
      y: 216.701,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '216.701',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 6.50838,
      y: 225.18,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 3.179000000000002 1.2618200000000002 6.229000000000013 3.50838 8.479000000000013',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 77.2635,
      y: 296.041,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '77.2635 296.041',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 80.7719,
      y: 304.52,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.246600000000001 2.25 3.508400000000009 5.298999999999978 3.508400000000009 8.478999999999985',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 80.7719,
      y: 876.705,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '876.705',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 84.2803,
      y: 885.183,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 3.1789999999999736 1.2617999999999938 6.228999999999928 3.5083999999999946 8.477999999999952',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: null,
      x: 149,
      y: 950,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '149 950',
      },
    },
  ],
  5: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 424,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 2,
      y: 424,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '2 424',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 79.6607,
      y: 369.291,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '79.6607 369.291',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 84.7498,
      y: 359.481,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '3.190799999999996 -2.2479999999999905 5.089099999999988 -5.906999999999982 5.089099999999988 -9.810000000000002',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 84.7498,
      y: 298.993,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '298.993',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 89.8389,
      y: 289.183,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 -3.90300000000002 1.898300000000006 -7.562000000000012 5.089100000000002 -9.810000000000002',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 223.955,
      y: 194.703,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '223.955 194.703',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 230.866,
      y: 192.514,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.022999999999996 -1.4240000000000066 4.436999999999983 -2.188999999999993 6.911000000000001 -2.188999999999993',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: 8,
      x: 425.138,
      y: 192.514,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '425.138',
      },
    },
    {
      id: 8,
      prevId: 7,
      nextId: 9,
      x: 431.438,
      y: 190.727,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.2250000000000227 0 4.406000000000006 -0.6189999999999998 6.300000000000011 -1.7870000000000061',
      },
    },
    {
      id: 9,
      prevId: 8,
      nextId: 10,
      x: 475.121,
      y: 163.786,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '475.121 163.786',
      },
    },
    {
      id: 10,
      prevId: 9,
      nextId: 11,
      x: 481.42,
      y: 162,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '1.893000000000029 -1.1680000000000064 4.074000000000012 -1.7860000000000014 6.299000000000035 -1.7860000000000014',
      },
    },
    {
      id: 11,
      prevId: 10,
      nextId: 12,
      x: 849.166,
      y: 162,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '849.166',
      },
    },
    {
      id: 12,
      prevId: 11,
      nextId: 13,
      x: 856.624,
      y: 159.4,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.70799999999997 0 5.336999999999989 -0.9159999999999968 7.45799999999997 -2.5999999999999943',
      },
    },
    {
      id: 13,
      prevId: 12,
      nextId: 14,
      x: 928.724,
      y: 102.193,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '928.724 102.193',
      },
    },
    {
      id: 14,
      prevId: 13,
      nextId: 15,
      x: 936.182,
      y: 99.5933,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.120999999999981 -1.6829999999999927 4.75 -2.5996999999999986 7.45799999999997 -2.5996999999999986',
      },
    },
    {
      id: 15,
      prevId: 14,
      nextId: 16,
      x: 1100.53,
      y: 99.5933,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '1100.53',
      },
    },
    {
      id: 16,
      prevId: 15,
      nextId: 17,
      x: 1107.45,
      y: 97.4035,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.480000000000018 0 4.8900000000001 -0.7647999999999939 6.920000000000073 -2.1898000000000053',
      },
    },
    {
      id: 17,
      prevId: 16,
      nextId: 18,
      x: 1238.35,
      y: 5.18982,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '1238.35 5.18982',
      },
    },
    {
      id: 18,
      prevId: 17,
      nextId: 19,
      x: 1245.26,
      y: 3,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.019999999999982 -1.42497 4.430000000000064 -2.18982 6.910000000000082 -2.18982',
      },
    },
    {
      id: 19,
      prevId: 18,
      nextId: null,
      x: 1330,
      y: 3,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '1330',
      },
    },
  ],
  6: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 3,
      y: 702.686,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '3 702.686',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 3,
      y: 576.407,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '576.407',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 8.10391,
      y: 566.587,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 -3.908999999999992 1.9044499999999998 -7.574000000000069 5.103910000000001 -9.82000000000005',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 64.9349,
      y: 526.679,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '64.9349 526.679',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 71.831,
      y: 524.5,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.019900000000007 -1.4180000000000064 4.427999999999997 -2.1789999999999736 6.896100000000004 -2.1789999999999736',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 93.6609,
      y: 524.5,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '93.6609',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 105.661,
      y: 512.5,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '6.627099999999999 0 12.000100000000003 -5.373000000000047 12.000100000000003 -12',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: 8,
      x: 105.661,
      y: 274.639,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '274.639',
      },
    },
    {
      id: 8,
      prevId: 7,
      nextId: 9,
      x: 100.557,
      y: 264.819,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 -3.908999999999992 -1.9050000000000011 -7.574000000000012 -5.103999999999999 -9.819999999999993',
      },
    },
    {
      id: 9,
      prevId: 8,
      nextId: 10,
      x: 84.9495,
      y: 253.859,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '84.9495 253.859',
      },
    },
    {
      id: 10,
      prevId: 9,
      nextId: 11,
      x: 79.8456,
      y: 244.038,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '-3.1995000000000005 -2.247000000000014 -5.103899999999996 -5.911000000000001 -5.103899999999996 -9.820999999999998',
      },
    },
    {
      id: 11,
      prevId: 10,
      nextId: 12,
      x: 79.8456,
      y: 148.026,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '148.026',
      },
    },
    {
      id: 12,
      prevId: 11,
      nextId: 13,
      x: 84.9495,
      y: 138.206,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 -3.9090000000000202 1.9044999999999987 -7.574000000000012 5.103899999999996 -9.820000000000022',
      },
    },
    {
      id: 13,
      prevId: 12,
      nextId: 14,
      x: 117.766,
      y: 115.161,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '117.766 115.161',
      },
    },
    {
      id: 14,
      prevId: 13,
      nextId: 15,
      x: 124.662,
      y: 112.982,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.019999999999996 -1.4180000000000064 4.427999999999997 -2.179000000000002 6.896000000000001 -2.179000000000002',
      },
    },
    {
      id: 15,
      prevId: 14,
      nextId: 16,
      x: 267.767,
      y: 112.982,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '267.767',
      },
    },
    {
      id: 16,
      prevId: 15,
      nextId: 17,
      x: 274.663,
      y: 110.803,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.4680000000000177 0 4.875999999999976 -0.7609999999999957 6.896000000000015 -2.179000000000002',
      },
    },
    {
      id: 17,
      prevId: 16,
      nextId: 18,
      x: 334.896,
      y: 68.5065,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '334.896 68.5065',
      },
    },
    {
      id: 18,
      prevId: 17,
      nextId: 19,
      x: 340,
      y: 58.6859,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '3.1999999999999886 -2.246700000000004 5.103999999999985 -5.911100000000005 5.103999999999985 -9.820600000000006',
      },
    },
    {
      id: 19,
      prevId: 18,
      nextId: null,
      x: 340,
      y: 0,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '0',
      },
    },
  ],
  7: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 3,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '0 3',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 374.177,
      y: 3,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '374.177',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 382.65,
      y: 6.50173,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '3.176999999999964 0 6.222999999999956 1.2592400000000001 8.472999999999956 3.5017300000000002',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 422.61,
      y: 46.3399,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '422.61 46.3399',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 431.082,
      y: 49.8417,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.248999999999967 2.2424999999999997 5.295999999999992 3.501800000000003 8.47199999999998 3.501800000000003',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 577,
      y: 49.8417,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '577',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 589,
      y: 61.8417,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '6.626999999999953 0 12 5.3725999999999985 12 12',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: 8,
      x: 589,
      y: 64,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '64',
      },
    },
    {
      id: 8,
      prevId: 7,
      nextId: 9,
      x: 601,
      y: 76,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 6.627399999999994 5.373000000000047 12 12 12',
      },
    },
    {
      id: 9,
      prevId: 8,
      nextId: null,
      x: 694,
      y: 76,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '694',
      },
    },
  ],
  8: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 3,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '0 3',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 113.627,
      y: 3,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '113.627',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 125.627,
      y: 15,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '6.6270000000000095 0 12 5.372590000000001 12 12',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 125.627,
      y: 19.383,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '19.383',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 137.627,
      y: 31.383,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 6.6274000000000015 5.373000000000005 12 12.000000000000014 12',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 298.287,
      y: 31.383,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '298.287',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 305.162,
      y: 33.5473,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.459000000000003 0 4.859000000000037 0.7555000000000014 6.875 2.164300000000001',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: 8,
      x: 339.577,
      y: 57.6016,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '339.577 57.6016',
      },
    },
    {
      id: 8,
      prevId: 7,
      nextId: 9,
      x: 346.452,
      y: 59.766,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.0160000000000196 1.4087999999999994 4.415999999999997 2.1644000000000005 6.875 2.1644000000000005',
      },
    },
    {
      id: 9,
      prevId: 8,
      nextId: 10,
      x: 704.811,
      y: 59.766,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '704.811',
      },
    },
    {
      id: 10,
      prevId: 9,
      nextId: 11,
      x: 711.686,
      y: 61.9303,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.4589999999999463 0 4.858999999999924 0.755500000000005 6.875 2.1643000000000043',
      },
    },
    {
      id: 11,
      prevId: 10,
      nextId: null,
      x: 759,
      y: 95,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '759 95',
      },
    },
  ],
  9: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 3,
      y: 0,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '3 0',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 3,
      y: 94.4293,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '94.4293',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 15,
      y: 106.429,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 6.627700000000004 5.372579999999999 11.999700000000004 12 11.999700000000004',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 62.3772,
      y: 106.429,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '62.3772',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 69.3184,
      y: 108.641,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.4868999999999915 0 4.912499999999994 0.7729999999999961 6.941199999999995 2.2120000000000033',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 311.382,
      y: 280.289,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '311.382 280.289',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 318.323,
      y: 282.5,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '2.02800000000002 1.4379999999999882 4.454000000000008 2.2110000000000127 6.940999999999974 2.2110000000000127',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: null,
      x: 443.5,
      y: 282.5,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '443.5',
      },
    },
  ],
  10: [
    {
      id: -1,
      prevId: null,
      nextId: 1,
      x: 0,
      y: 0,
      type: 'trueNode',
    },
    {
      id: 0,
      prevId: null,
      nextId: 1,
      x: 275,
      y: 374,
      type: 'base',
      directiveObj: {
        directive: 'M',
        directiveValue: '275 374',
      },
    },
    {
      id: 1,
      prevId: 0,
      nextId: 2,
      x: 179.509,
      y: 306.452,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '179.509 306.452',
      },
    },
    {
      id: 2,
      prevId: 1,
      nextId: 3,
      x: 172.579,
      y: 304.249,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '-2.025999999999982 -1.434000000000026 -4.446999999999974 -2.2029999999999745 -6.929999999999978 -2.2029999999999745',
      },
    },
    {
      id: 3,
      prevId: 2,
      nextId: 4,
      x: 54.6722,
      y: 304.249,
      type: 'base',
      directiveObj: {
        directive: 'H',
        directiveValue: '54.6722',
      },
    },
    {
      id: 4,
      prevId: 3,
      nextId: 5,
      x: 42.6722,
      y: 292.249,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '-6.627399999999994 0 -12 -5.373000000000047 -12 -12',
      },
    },
    {
      id: 5,
      prevId: 4,
      nextId: 6,
      x: 42.6722,
      y: 37.2105,
      type: 'base',
      directiveObj: {
        directive: 'V',
        directiveValue: '37.2105',
      },
    },
    {
      id: 6,
      prevId: 5,
      nextId: 7,
      x: 37.6022,
      y: 27.4138,
      type: 'cDirective',
      directiveObj: {
        directive: 'c',
        directiveValue: '0 -3.8948000000000036 -1.8902 -7.547400000000003 -5.069999999999993 -9.796700000000005',
      },
    },
    {
      id: 7,
      prevId: 6,
      nextId: null,
      x: 2,
      y: 2.22949,
      type: 'base',
      directiveObj: {
        directive: 'L',
        directiveValue: '2 2.22949',
      },
    },
  ],
}
/**
 * 计算贝塞尔曲线的长度
 * @param {*} P0  起始点
 * @param {*} P1  控制点1
 * @param {*} P2  控制点2
 * @param {*} P3  结束点
 * @param {*} steps  步长
 * @returns
 */
function calculateBezierLength(P0, P1, P2, P3, steps = 1000) {
  let length = 0
  const dt = 1 / steps

  for (let i = 0; i < steps; i++) {
    const t = i * dt
    const tNext = (i + 1) * dt

    const x = (1 - t) ** 3 * P0.x + 3 * t * (1 - t) ** 2 * P1.x + 3 * t ** 2 * (1 - t) * P2.x + t ** 3 * P3.x
    const y = (1 - t) ** 3 * P0.y + 3 * t * (1 - t) ** 2 * P1.y + 3 * t ** 2 * (1 - t) * P2.y + t ** 3 * P3.y

    const xNext = (1 - tNext) ** 3 * P0.x + 3 * tNext * (1 - tNext) ** 2 * P1.x + 3 * tNext ** 2 * (1 - tNext) * P2.x + tNext ** 3 * P3.x
    const yNext = (1 - tNext) ** 3 * P0.y + 3 * tNext * (1 - tNext) ** 2 * P1.y + 3 * tNext ** 2 * (1 - tNext) * P2.y + tNext ** 3 * P3.y

    const dx = xNext - x
    const dy = yNext - y
    length += Math.sqrt(dx * dx + dy * dy)
  }

  return length
}
function generateAdditionalPoints(points = [], totalNumPoints) {
  const npoints = [...points] // 复制原始指令数组
  let currentId = npoints.length // 新生成的点的起始ID
  //1.计算每个指令对象实际渲染的线段长度
  npoints.forEach((item, index) => {
    // 跳过trueNode
    if (['trueNode'].includes(item.type)) {
      return
    }
    // 如果是最后一个点，直接返回
    if (!item.nextId) return
    //计算当前指令对象描绘的线的长度
    let length = 0
    const prev = npoints.find((p) => p.id === item.prevId)
    const next = npoints.find((p) => p.id === item.nextId)
    const nextIdx = npoints.findIndex((p) => p.id === next.id)
    const directive = item.directiveObj?.directive
    if (directive === 'M') {
      //起始点没有长度
      length = 0
    } else if (directive === 'H') {
      //上一个节点的X 和当前的X的绝对值就是长度
      length = Math.abs(prev.x - item.x)
    } else if (directive === 'V') {
      //上一个节点的Y 和当前的Y的绝对值就是长度
      length = Math.abs(prev.y - item.y)
    } else if (directive === 'c') {
      // 示例：计算一个三次贝塞尔曲线的长度
      //   directiveObj: {
      //   directive: 'c',
      //   directiveValue: '6.626999999999981 0 12 -5.373000000000019 12 -12',
      // },
      const directiveValue = item.directiveObj?.directiveValue.split(' ')
      const P0 = { x: prev.x, y: prev.y }
      const P1 = { x: P0.x + +directiveValue[0], y: P0.y + +directiveValue[1] }
      const P2 = { x: P1.x + +directiveValue[2] + +directiveValue[3], y: P1.y + +directiveValue[4] + +directiveValue[5] }
      const P3 = { x: next.x, y: next.y }
      length = calculateBezierLength(P0, P1, P2, P3)
      // console.log(directiveValue, P0, P1, P2, P3, `贝塞尔曲线的长度为: ${length}`)
      // c指令计算出来的长度归结到下一个指令对象的长度上
      npoints[nextIdx].length = length
    }
    item.length = length
  })
  //2.每个指令对象相加，得出整个指令数组渲染的线的长度
  const totalLength = npoints.filter((item) => item.length).reduce((acc, item) => acc + +item.length, 0)
  console.log(`整个指令数组渲染的线的长度为: ${totalLength}`)
  //2-1.计算出每个指令对象线的长度占整个指令数组渲染的线的长度的百分比
  npoints.forEach((item) => {
    item.percent = item.length / totalLength
  })
  //3.根据传入的totalNumPoints计算得出分别要落在哪个百分比上，就可以得出落在哪个指令对象的区间上
  //3-1.计算出每个指令对象的百分比区间
  npoints.forEach((item, index) => {
    if (index === 0) {
      item.startPercent = 0
      item.percent = 0
    } else {
      item.startPercent = npoints[index - 1].endPercent
    }
    item.endPercent = item.startPercent + item.percent
  })
  //3-2.计算出新增点落在哪个指令对象的区间上,使用百分比来平均分配新增点

  for (let i = 0; i < totalNumPoints; i++) {
    // const percent = (i + 1) / (totalNumPoints + 1)
    const percent = (i + 1) / totalNumPoints
    let target = npoints.filter((item) => item.length).find((item) => item.startPercent <= percent && item.endPercent >= percent) // 实际的逻辑目标点，用于连接关系
    // type: "cDirective"
    let lenTarget = target //用来计算长度的目标点
    // if (target.type === 'cDirective') {
    //   const lenNpoints = npoints.filter((item) => item.length)
    //   lenTarget = lenNpoints[lenNpoints.findIndex((item) => item.id === target.id) + 1]
    // }
    console.log(target, percent, '---')
    let x, y
    //3-3.根据新增点落在的百分比位置，计算出新增点的坐标
    // 如果百分比为1，则新增点的坐标就是目标点的坐标
    if (percent === 1) {
      x = target.x
      y = target.y
      // 插入新生成的点
      const id = 't' + currentId++
      npoints.push({
        id, // 新生成的点的ID
        prevId: target.id, // 新生成的点的上一个点是当前的前一个点
        nextId: null, // 新生成的点的下一个点是当前的目标点
        x, // 新生成的点的X坐标
        y, // 新生成的点的Y坐标
        type: 'trueNode', // 新生成的点，用于填充后续真实业务数据
      })
      //当前的目标点的nextId更新为新生成的点的ID
      npoints[npoints.length - 2].nextId = id
    } else {
      // 如果百分比不为1，则新增点的坐标需要根据目标点的类型来计算
      // 寻找逻辑关系的前一个点
      const prev = npoints.find((item) => item.id === lenTarget.prevId)
      // 寻找逻辑关系的后一个点
      const next = npoints.find((item) => item.id === lenTarget.nextId)
      // 新生成的点的坐标
      // 确定lenTarget对象是水平线，找到它的前一个指令对象，如果前一个指令对象的Y坐标和当前指令对象的Y坐标相等，则说明是水平线
      const isH = lenTarget.Y === prev.Y
      if (isH) {
        //如果得到的lenTarget对象是一个水平线，则新生成的点的Y坐标是prev的Y坐标，X坐标是prev的X坐标加上target的X坐标的差值乘以百分比
        x = prev.x + ((next.x - prev.x) * (percent - lenTarget.startPercent)) / lenTarget.percent
        y = lenTarget.y
      }

      // 确定lenTarget对象是垂直线，找到它的前一个指令对象，如果前一个指令对象的X坐标和当前指令对象的X坐标相等，则说明是垂直线
      const isV = lenTarget.X === prev.X
      if (isV) {
        //如果得到的lenTarget对象是一个垂直线，则新生成的点的X坐标是prev的X坐标，Y坐标是prev的Y坐标加上lenTarget的Y坐标的差值乘以百分比
        x = lenTarget.x
        y = prev.y + ((next.y - prev.y) * (percent - lenTarget.startPercent)) / lenTarget.percent
      }
      // 确定lenTarget对象是一条斜线，找到它的前一个指令对象，如果前一个指令对象的X坐标和Y坐标和当前指令对象的X坐标和Y坐标不相等，则说明是斜线
      const isS = lenTarget.X !== prev.X && lenTarget.Y !== prev.Y
      if (isS) {
        //如果得到的lenTarget对象是一条斜线，则新生成的点的X坐标是prev的X坐标加上((next的X坐标减去prev的X坐标)乘以(百分比减去lenTarget的startPercent)除以lenTarget的percent)
        x = prev.x + ((next.x - prev.x) * (percent - lenTarget.startPercent)) / lenTarget.percent
        y = prev.y + ((next.y - prev.y) * (percent - lenTarget.startPercent)) / lenTarget.percent
      }
      // 插入新生成的点
      const index = npoints.findIndex((item) => item.id === prev.id)
      const id = 't' + currentId++
      // npoints[index].nextId = id
      npoints.splice(index + 1, 0, {
        id, // 新生成的点的ID
        prevId: prev.id, // 新生成的点的上一个点是当前的前一个点
        nextId: target.id, // 新生成的点的下一个点是当前的目标点
        x, // 新生成的点的X坐标
        y, // 新生成的点的Y坐标
        type: 'trueNode', // 新生成的点，用于填充后续真实业务数据
      })

      npoints.forEach((item) => {
        //当前的目标点的prevId更新为新生成的点的ID
        if (item.id === target.id) {
          item.prevId = id
        }
        //当前的前一个点的nextId更新为新生成的点的ID
        if (item.id === prev.id) {
          item.nextId = id
        }
      })
    }
  }

  // 返回新生成的指令数组
  return npoints
  //3-1,例如一个点时，点落在的百分比位置则为 100%/1=100% 也就是新增点在100%的位置上
  //3-2,例如两个点时，点落在的百分比位置则为 100%/2=50% 也就是新增点分别在50%，100%的位置上
  //3-2. 根据新加点所在的百分比位置，计算出新加点的坐标

  // // 提取所有直线段
  // const lineSegments = []
  // for (let i = 0; i < commands.length - 1; i++) {
  //   const current = commands[i]

  //   const directive = current?.directiveObj?.directive
  //   // 跳过非直线段
  //   if (!directive || ['cDirective', 'trueNode'].includes(current.type)) {
  //     continue
  //   }
  //   //todo:第一轮生成逻辑
  //   // 如果（x1,y1）和（x2,y2）两点没有贝塞尔曲线指令，且非水平线垂直线链接的，则通过直线段生成新的点
  //   // 所有的直线都用来生成一遍了，则将最新生成的数组来进行校验寻找到两个最长的直线段的坐标点生成一个新坐标点。然后递归

  //   let length = 0
  //   const prev = updatedCommands.find((item) => item.id === current.prevId)
  //   if (directive === 'H') {
  //     //上一个节点的X 和当前的X的绝对值就是长度
  //     length = Math.abs(prev.x - current.x)
  //   } else if (directive === 'V') {
  //     //上一个节点的Y 和当前的Y的绝对值就是长度
  //     length = Math.abs(prev.y - current.y)
  //   }
  //   lineSegments.push({ ...current, directive, prev, length })
  // }

  // // 如果没有直线段，直接返回原始数组
  // if (lineSegments.length === 0) {
  //   return updatedCommands
  // }

  // // 按直线长度从长到短排序
  // lineSegments.sort((a, b) => b.length - a.length)

  // // 递归生成点
  // function generatePoints(segments, numPoints) {
  //   if (numPoints <= 0) return

  //   const segment = segments[0]
  //   if (!segment) return

  //   const { prev, length, directive } = segment
  //   let current = updatedCommands.find((item) => item.id === segment.id)

  //   let midPoint = {}
  //   // 生成中间点
  //   // 如果这是条水平线则是X边，Y不变
  //   if (directive === 'H') {
  //     midPoint = {
  //       x: (current.x + prev.x) / 2,
  //       y: current.y,
  //     }
  //   } else if (directive === 'V') {
  //     midPoint = {
  //       x: current.x,
  //       y: (current.y + prev.y) / 2,
  //     }
  //   }
  //   // 如果这是条垂直线则是Y边，X不变
  //   // 插入新生成的点
  //   const index = updatedCommands.findIndex((item) => item.id === prev.id)
  //   const id = currentId++
  //   updatedCommands[index].nextId = id
  //   updatedCommands.splice(index + 1, 0, {
  //     id,
  //     prevId: prev.id,
  //     nextId: id,
  //     x: midPoint.x,
  //     y: midPoint.y,
  //     type: 'trueNode',
  //   })
  //   updatedCommands.forEach((item) => {
  //     if (item.id === current.id) {
  //       item.prevId = id
  //     }
  //   })
  //   // 更新后续点的 prevId 和 nextId
  //   // 递归生成剩余的点
  //   generatePoints(segments.slice(1), numPoints - 1)
  // }

  // // 生成指定数量的点
  // generatePoints(lineSegments, totalNumPoints)

  // return updatedCommands
}

// 折线
G6.registerEdge('customEdge', {
  draw(cfg, group) {
    const startPoint = cfg.startPoint
    const endPoint = cfg.endPoint
    const ofx = cfg.pathsData.offset.x
    const ofy = cfg.pathsData.offset.y
    const prevPoint = cfg.pathsData.prevPoint
    const nextPoint = cfg.pathsData.nextPoint
    const directiveValue = cfg.pathsData.directiveObj?.directiveValue
    const directive = cfg.pathsData.directiveObj?.directive
    let path = []
    if (directiveValue) {
      const cs = directiveValue.split(' ')
      //// C x1 y1 x2 y2 x y
      // path = [directive, `${cs[0] + ofx} ${cs[1] + ofy}`, `${cs[2] + ofx} ${cs[3] + ofy}`, `${cs[4] + ofx} ${cs[5] + ofy}`]
      path = [directive, `${cs[0]} ${cs[1]}`, `${cs[2]} ${cs[3]}`, `${cs[4]} ${cs[5]}`]
    }
    // console.log(path, cfg, group, 'pathpathpathpath')
    const shape = group.addShape('path', {
      attrs: {
        stroke: cfg.color,
        path: [
          // 起点开始移动到当前节点位置
          // ['M', startPoint.x, startPoint.y],
          ['M', prevPoint.x, prevPoint.y],
          // C x1 y1 x2 y2 x y
          // c dx1 dy1 dx2 dy2 dx dy
          path,
          ['L', nextPoint.x, nextPoint.y], // 直线到终点
          // ['L', endPoint.x, endPoint.y], // 直线到终点
        ],
        lineWidth: 5,
        zIndex: 999,
      },
      // label: '边的标签文字',
      labelCfg: {
        refX: 0, // 文本在 x 方向偏移量
        refY: 0, // 文本在 y 方向偏移量
        style: {
          fill: '#595959',
        },
      },
      // 在 G6 3.3 及之后的版本中，必须指定 name，可以是任意字符串，但需要在同一个自定义元素类型中保持唯一性
      name: 'brokenLine',
    })
    return shape
  },
})
G6.registerNode('path-node', {
  drawShape: function drawShape(cfg, group) {
    const color = cfg.error ? '#F4664A' : '#30BF78'
    const r = 0
    const shape = group.addShape('rect', {
      attrs: {
        x: 0,
        y: 0,
        width: 0,
        height: 0,
        stroke: color,
        radius: 0,
      },
      // must be assigned in G6 3.3 and later versions. it can be any string you want, but should be unique in a custom item type
      name: 'main-box',
      draggable: false,
    })
    return shape
  },
})
// 路线颜色
const colors = [
  '#3F92FE',
  '#00C29F',
  '#5369C0',
  '#29C4D9',
  '#89CA73',
  '#2D7B9C',
  '#3B5F80',
  '#7BB04E',
  '#1C65C6',
  '#4E4C87',
  '#6AB4DA',
  '#7E8CDB',
  '#57A476',
  '#36416C',
  '#7EABD1',
  '#467341',
  '#A4CD3F',
  '#5E3831',
  '#42AA21',
  '#9C9757',
]
// 路线偏移量
const offsets = [
  { x: 196, y: 571 },
  { x: 290, y: 369 },
  { x: 852, y: 50 },
  { x: 73, y: 238 },
  { x: 0, y: 0 },
  { x: 1400, y: 142 },
  { x: 196, y: 77 },
  { x: 71, y: 709 },
  { x: 268, y: 668 },
  { x: 1590, y: 1400 },
]
/**
 * 获取源节点该启用哪个节点给目标节点连接边
 * @param {*} node1
 * @param {*} node2
 * @returns
 */
function findBestAnchorPoint(node1, node2) {
  const x1 = node1.x
  const y1 = node1.y
  const x2 = node2.x
  const y2 = node2.y

  // 计算向量
  const dx = x2 - x1
  const dy = y2 - y1

  // 归一化向量
  const length = Math.sqrt(dx * dx + dy * dy)
  const nx = dx / length
  const ny = dy / length

  // 找到与向量最接近的锚点
  let bestAnchor = [0.5, 0] // 默认为下
  let maxDotProduct = -Infinity

  const anchorPoints = [
    [0, 0.5], // 左
    [0.5, 1], // 上
    [1, 0.5], // 右
    [0.5, 0], // 下
  ]

  for (const [ax, ay] of anchorPoints) {
    const dotProduct = ax * nx + ay * ny
    if (dotProduct > maxDotProduct) {
      maxDotProduct = dotProduct
      bestAnchor = [ax, ay]
    }
  }

  return {
    anchor: bestAnchor,
    // 计算实际的锚点位置
    position: {
      x: x1 + bestAnchor[0] * length,
      y: y1 + bestAnchor[1] * length,
    },
  }
}

// 严格按照预设路线和每条预设路线的节点数来生成画布数据
function generateDataForLines() {
  const nodes = []
  const edges = []
  const nodeStyle = (idx) => ({
    fill: colors[idx],
    stroke: colors[idx], // 描边颜色
    lineWidth: 0, //描边宽度
    fontSize: 0,
    zIndex: -1,
  })
  Object.keys(paths).forEach((line) => {
    if (line > 1) {
      return
    }
    const vpoints = paths[line]
    // 根据基础数据坐标点数据来拓展展示节点
    const points = generateAdditionalPoints(vpoints, 8)
    const idx = line - 1
    points.forEach((point, index) => {
      const nodeId = `line-${line}-node-${index}`
      // 加上偏移对齐大画布
      point.x = point.x + offsets[idx].x
      point.y = point.y + offsets[idx].y
      // point.offset = offsets[idx] 先注释掉，后续会用到
      point.offset = { x: 0, y: 0 }
      const nodeObj = {
        id: nodeId,
        label: index === 0 ? line : ``,
        type: index === 0 ? 'rect' : point.type === 'trueNode' ? 'circle' : 'path-node',
        style: {
          ...nodeStyle(idx),
          size: point.type === 'trueNode' ? [20, 20] : [0, 0],
        },
        // 该边连入 source 点的第 0 个 anchorPoint，
        // 因为有圆形  所以只用标准四向
        anchorPoints: [
          [0, 1], // 左下
          [0, 0.5], // 左
          [0, 0], // 左上
          [0.5, 0], //上
          [1, 0], // 右上
          [1, 0.5], // 右
          [1, 1], //右下
          [0.5, 1], // 下
        ],
        x: point.x,
        y: point.y,
        sourceAnchor: 3,
      }
      if (index === 0) {
        //生成完毕，给第一个方块节点设置锚点数据
        const bestAnchorInfo = findBestAnchorPoint(points[0], points[1])
        // 该节点可选的连接点集合，该点有两个可选的连接点 用于给子节点做连接
        nodeObj.anchorPoints = [bestAnchorInfo.anchor]
      }
      nodes.push(nodeObj)

      if (index > 0) {
        const prevPoint = points[index - 1]
        const nextPoint = points[index + 1]
        edges.push({
          pathsData: { ...point, prevPoint, nextPoint },
          source: `line-${line}-node-${index - 1}`,
          target: nodeId,
          type: point.type === 'cDirective' ? 'customEdge' : 'line',
          color: colors[idx],
          style: {
            lineWidth: 5,
          },
        })
      }
    })
  })

  return { nodes, edges }
}
// 严格按照预设路线和每条预设路线的节点数来生成画布数据
const { nodes, edges } = generateDataForLines()
var data = {
  nodes,
  edges,
}
window.data = data
